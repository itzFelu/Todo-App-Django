{% extends 'index.html' %}
{% block taskList %}

    <div class="container">
      <div class="d-flex justify-content-between m-3">
          <h3 class="m-3">Detailed Task List</h3>
          <button class="btn btn-danger" onclick="del_all()">Delete All</button>
        </div>
        <table class="table table-hover border border-dark">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Status</th>
                <th scope="col">Time Of Creation</th> 
                {% comment %} <th scope="col"></th>  {% endcomment %}
              </tr>
            </thead>
            <tbody>
              {% for obj in data %}
                <tr>
                  <th scope="row">{{forloop.counter}}</th>
                  <td>{{obj.title}}</td>
                  <td>{{obj.description}}</td>
                  {% if obj.status == 'Done' %}
                    <td selected style="color: green" value='Done'>Done &#9989;</td>
                  {% else %}
                  <td selected style="color: red" value='Pending'>Pending &#10060;</td>
                  {% endif %}
                  <td>{{obj.dateTime}}</td>
                  {% comment %} <td ><button class="btn  btn-danger" onclick=delete_task({{obj.id}})>Delete</button></td> {% endcomment %}
                </tr>
              {% endfor %}

            </tbody>
          </table>
    </div>
<script>
  function del_all(){
    console.log("clicked");
    if(prompt("Type 'Delete All' to confirm") == 'Delete All'){
        window.location.href='/deleteAll';
    }
}
</script>
{% endblock %}